(self.webpackChunk=self.webpackChunk||[]).push([[254],{6590:(t,a,e)=>{"use strict";e.d(a,{Z:()=>i});const s={data:function(){return{}},methods:{logoutUser:function(){var t=this;sessionStorage.clear(),axios.post("/api/logout",{token:this.$store.state.user.token}).then((function(a){t.$store.dispatch("logoutUser",a.data)})),sessionStorage.length||(this.$notify.success({msg:"Vous êtes déconnecté"}),this.$router.push({name:"login"}))}},computed:{}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"dashboard"}}},[t._v("Tableau de bord")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarNavDropdown"}},[e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-white",attrs:{to:{name:"homepage"}}},[t._v("Accueil")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link text-white",attrs:{href:"#"},on:{click:t.logoutUser}},[t._v("Se déconnecter")])])])])],1)])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,null,null).exports},2254:(t,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>i});const s={name:"Add",components:{Header:e(6590).Z},data:function(){return{formData:{name:"",description:"",image:null,tags:[],github_link:"",live_link:"",user_id:this.$store.state.user.id},options:{modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}]]}},imagePreview:null}},methods:{add:function(){var t=this,a=new FormData;a.append("name",this.formData.name),a.append("description",this.formData.description),a.append("image",this.formData.image),a.append("tags",this.formData.tags),a.append("github_link",this.formData.github_link),a.append("live_link",this.formData.live_link),a.append("user_id",this.formData.user_id),axios.post("/api/add",a).then((function(a){200===a.data.status_code&&(t.$notify.success({msg:"Votre réalisation a bien été ajoutée"}),t.$store.dispatch("setRealisations",a.data),t.$router.push("/dashboard"))}))},imageHandling:function(t){var a=this;this.formData.image=t.target.files[0];var e=new FileReader;e.readAsDataURL(this.formData.image),e.onload=function(t){a.imagePreview=t.target.result}}},computed:{}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Header"),t._v(" "),e("section",{staticClass:"my-4"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6"},[e("form",{staticClass:"card",on:{submit:function(a){return a.preventDefault(),t.add(a)}}},[e("h3",{staticClass:"card-header bg-light"},[t._v("Ajouter une réalisation")]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"custom-form-control",attrs:{type:"text",name:"name",placeholder:"Nom"},domProps:{value:t.formData.name},on:{input:function(a){a.target.composing||t.$set(t.formData,"name",a.target.value)}}}),t._v(" "),e("p",{staticClass:"text-danger"})]),t._v(" "),e("div",{staticClass:"form-group"},[e("editor",{attrs:{name:"description",placeholder:"Description",theme:"snow",options:t.options},model:{value:t.formData.description,callback:function(a){t.$set(t.formData,"description",a)},expression:"formData.description"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{staticClass:"form-control-file",attrs:{type:"file",name:"image"},on:{change:t.imageHandling}}),t._v(" "),t.imagePreview?e("div",{staticClass:"mt-4"},[e("img",{staticClass:"figure-img img-fluid rounded",attrs:{src:t.imagePreview}})]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("b-form-tags",{staticClass:"custom-form-control",attrs:{"input-id":"tags-pills","tag-variant":"dark",size:"md",separator:" ","add-button-variant":"dark",placeholder:"Tags"},model:{value:t.formData.tags,callback:function(a){t.$set(t.formData,"tags",a)},expression:"formData.tags"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.github_link,expression:"formData.github_link"}],staticClass:"custom-form-control",attrs:{type:"text",name:"github_link",placeholder:"GitHub"},domProps:{value:t.formData.github_link},on:{input:function(a){a.target.composing||t.$set(t.formData,"github_link",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.live_link,expression:"formData.live_link"}],staticClass:"custom-form-control",attrs:{type:"text",name:"live_link",placeholder:"Live"},domProps:{value:t.formData.live_link},on:{input:function(a){a.target.composing||t.$set(t.formData,"live_link",a.target.value)}}})]),t._v(" "),t._m(0)])])])])])])],1)}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-dark custom-border-btn"},[t._v("\n                      Ajouter\n                    ")])])])])}],!1,null,null,null).exports}}]);