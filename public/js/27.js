(self.webpackChunk=self.webpackChunk||[]).push([[27],{6590:(t,s,e)=>{"use strict";e.d(s,{Z:()=>n});const a={data:function(){return{}},methods:{logoutUser:function(){var t=this;sessionStorage.clear(),axios.post("/api/logout",{token:this.$store.state.user.token}).then((function(s){t.$store.dispatch("logoutUser",s.data)})),sessionStorage.length||(this.$notify.success({msg:"Vous êtes déconnecté"}),this.$router.push({name:"login"}))}},computed:{}};const n=(0,e(1900).Z)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("header",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"dashboard"}}},[t._v("Tableau de bord")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarNavDropdown"}},[e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link text-white",attrs:{to:{name:"homepage"}}},[t._v("Accueil")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link text-white",attrs:{href:"#"},on:{click:t.logoutUser}},[t._v("Se déconnecter")])])])])],1)])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,null,null).exports},1027:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>l});var a=e(6590);const n={props:{name:String},data:function(){return{}},methods:{},computed:{}};var r=e(1900);const o=(0,r.Z)(n,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[e("div",{staticClass:"jumbotron rounded-0 mb-0"},[e("div",{staticClass:"container"},[e("h3",[t._v("Bienvenue, "+t._s(t.name)+"!")])])])])}),[],!1,null,null,null).exports,i={name:"Dashboard",components:{Header:a.Z,Greetings:o},data:function(){return{}},methods:{deleteRealisation:function(t){var s=this;this.$bvModal.msgBoxConfirm("Etes-vous sûr de vouloir supprimer cette réalisation ?",{title:"Supprimer la réalisation",size:"sm",buttonSize:"sm",okVariant:"danger",cancelVariant:"dark",okTitle:"Oui",cancelTitle:"Annuler",footerClass:"bg-white p-2",hideHeaderClose:!1,centered:!0}).then((function(e){!0===e&&axios.post("/api/delete",{id:t}).then((function(t){200===t.data.status_code&&(s.$notify.success({msg:"La réalisation a bien été supprimée"}),s.$store.dispatch("setRealisations",t.data))}))}))}},computed:{userInfos:function(){return this.$store.getters.getUserInfos},userRealisations:function(){var t=this.userInfos.id;return this.$store.getters.getRealisationsByUser(t)}}};const l=(0,r.Z)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Header"),t._v(" "),e("Greetings",{attrs:{name:t.userInfos.name}}),t._v(" "),e("section",{staticClass:"bg-light"},[e("div",{staticClass:"container"},[e("div",{staticClass:"my-4"},[e("router-link",{staticClass:"btn btn-dark btn-small custom-border-btn",attrs:{to:{name:"add"}}},[t._v("Ajouter")])],1),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.userRealisations,(function(s){return e("tr",{key:s.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(s.name))]),t._v(" "),e("td",{attrs:{scope:"row"},domProps:{innerHTML:t._s(s.description)}},[t._v("\n                "+t._s(s.description)+"\n              ")]),t._v(" "),e("td",{attrs:{scope:"row"}},[e("img",{staticClass:"img-fluid w-75",attrs:{src:"assets/images/realisations/"+s.image,alt:s.name}})]),t._v(" "),e("td",{staticClass:"custom-form-link",attrs:{scope:"row"}},[e("a",{staticClass:"d-block mb-4",attrs:{href:s.github_link,target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub")]),t._v(" "),e("a",{attrs:{href:s.live_link,target:"_blank",rel:"noopener noreferrer"}},[t._v("Live")])]),t._v(" "),e("td",{attrs:{scope:"row"}},[e("router-link",{staticClass:"btn btn-success btn-small mb-2 custom-border-btn",attrs:{to:{name:"edit",params:{id:s.id}}}},[t._v("Editer")]),t._v(" "),e("b-button",{staticClass:"custom-border-btn",attrs:{variant:"danger"},on:{click:function(e){return t.deleteRealisation(s.id)}}},[t._v("Supprimer")])],1),t._v(" "),e("td",{attrs:{scope:"row"}},t._l(s.tags,(function(s){return e("ul",{key:s.id,staticClass:"tags-container"},[e("li",[t._v(t._s(s.name))])])})),0)])})),0)])])])])],1)}),[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Nom")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Description")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Image")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Liens")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Actions")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Tags")])])])}],!1,null,null,null).exports}}]);